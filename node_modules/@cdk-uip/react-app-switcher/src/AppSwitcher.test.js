import React from "react";
import ReactDOM from "react-dom";
import {
  AppSwitcher,
  AppSwitcherHome,
  AppSwitcherItems,
  AppSwitcherItem,
  AppSwitcherItemIcon,
  AppSwitcherItemText
} from ".";
import { Icon } from "@cdk-uip/react-icon";
import renderer from "react-test-renderer";

const AppSwitcherExample = props => (
  <AppSwitcher {...props}>
    <AppSwitcherHome>Back to Connect Portal</AppSwitcherHome>

    <AppSwitcherItems>
      <AppSwitcherItem>
        <AppSwitcherItemIcon>
          <Icon>icon_1</Icon>
        </AppSwitcherItemIcon>
        <AppSwitcherItemText>App 1</AppSwitcherItemText>
      </AppSwitcherItem>

      <AppSwitcherItem>
        <AppSwitcherItemIcon>
          <Icon>icon_2</Icon>
        </AppSwitcherItemIcon>
        <AppSwitcherItemText>App 2</AppSwitcherItemText>
      </AppSwitcherItem>

      <AppSwitcherItem>
        <AppSwitcherItemIcon>icon_3</AppSwitcherItemIcon>
        <AppSwitcherItemText>App 3</AppSwitcherItemText>
      </AppSwitcherItem>
    </AppSwitcherItems>
  </AppSwitcher>
);

it("renders", () => {
  expect(renderer.create(<AppSwitcherExample />)).toMatchSnapshot();
});

it("mounts, updates and unmounts", () => {
  const div = document.createElement("div");
  ReactDOM.render(<AppSwitcherExample open />, div);
  ReactDOM.render(<AppSwitcherExample open={false} />, div);
  ReactDOM.render(<AppSwitcherExample open />, div);
  ReactDOM.unmountComponentAtNode(div);
});
