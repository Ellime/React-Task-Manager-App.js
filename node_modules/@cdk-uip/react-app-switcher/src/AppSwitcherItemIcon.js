import React from "react";
import classnames from "classnames";
import { Icon } from "@cdk-uip/react-icon";

/**
 * Used to wrap an application icon or image ensuring
 * the correct CSS class is injected.
 *
 * To render a CDK icon just pass the icon name, e.g.:
 *
 * ```js
 * <AppSwitcherItemIcon>directions_car</AppSwitcherItemIcon>
 * ```
 *
 * To render an image, pass it as the child:
 *
 * ```js
 * <AppSwitcherItemIcon>
 *   <img src="my_icon" />
 * </AppSwitcherItemIcon>
 * ```
 */
class AppSwitcherItemIcon extends React.Component {
  render() {
    return React.Children.map(this.props.children, child => {
      if (React.isValidElement(child)) {
        return React.cloneElement(child, {
          className: classnames(
            "cdk-global-header__app-switcher-apps-icon",
            child.props.className
          )
        });
      }
      return (
        <Icon className="cdk-global-header__app-switcher-apps-icon">
          {child}
        </Icon>
      );
    });
  }
}

export default AppSwitcherItemIcon;
