import React, { Component } from "react";
import classnames from "classnames";
import { bool, func } from "prop-types";

/**
 * * To open/close a bottom sheet simply use the `open` prop to... well open/close it.
 * * The `onClose` prop will be called when the user clicks on the sheet's overlay.
 * * Any content can be rendered inside the component.
 */
export default class BottomSheet extends Component {
  static propTypes = {
    /** Gets called when user clicks on overlay */
    onClose: func,
    /** Show/hide sheet based on this prop */
    open: bool
  };

  static defaultProps = {
    open: false
  };

  onOverlayClick(event) {
    event.preventDefault();
    this.props.onClose();
  }

  render() {
    const { open, children, className, ...other } = this.props;
    return (
      <div
        className={classnames("cdk-bottom-sheet", { opened: open }, className)}
        onClick={e => this.onOverlayClick(e)}
        {...other}
      >
        <div
          className="cdk-bottom-sheet--content"
          onClick={e => e.stopPropagation()} // Clicking on content should not bubble up and close the sheet
        >
          {children}
        </div>
      </div>
    );
  }
}
