import React, { Component, Fragment } from "react";
import DatePicker from "./DatePicker";
import { storiesOf } from "@storybook/react";
import { withKnobs, text } from "@storybook/addon-knobs";

storiesOf("date-picker", module)
  .addDecorator(withKnobs)
  .add("with no default", () => (
    <div>
      <DatePicker label="Select a date" />
    </div>
  ))
  .add("with default", () => (
    <div>
      <DatePicker date={new Date()} label="Select a date" locale="en" />
    </div>
  ))
  .add("in French", () => (
    <div>
      <DatePicker date={new Date()} label="Select a date" locale="fr" />
    </div>
  ))
  .add("controlled", () => {
    class Wrapper extends Component {
      state = { date: null };

      render() {
        return (
          <Fragment>
            <DatePicker
              label={text("label", "Select a date")}
              format={text("format", "L")}
              date={this.state.date}
              onChange={date => {
                this.setState({ date });
              }}
            />
            <p>Selected: {this.state.date && this.state.date.toString()}</p>
          </Fragment>
        );
      }
    }
    return <Wrapper />;
  });
