import React from "react";
import ReactDOM from "react-dom";
import {
  TemporaryDrawer,
  TemporaryDrawerHeader,
  TemporaryDrawerHeaderContent,
  TemporaryDrawerContent,
  DrawerList,
  DrawerListItem
} from ".";
import renderer from "react-test-renderer";

it("renders", () => {
  expect(
    renderer.create(
      <TemporaryDrawer>
        <TemporaryDrawerHeader>
          <TemporaryDrawerHeaderContent>
            Header content
          </TemporaryDrawerHeaderContent>
        </TemporaryDrawerHeader>
        <TemporaryDrawerContent>
          <DrawerList>
            <DrawerListItem selected>Inbox</DrawerListItem>
            <DrawerListItem>Star</DrawerListItem>
            <DrawerListItem>Sent Mail</DrawerListItem>
            <DrawerListItem>All Mail</DrawerListItem>
            <DrawerListItem>Trash</DrawerListItem>
          </DrawerList>
        </TemporaryDrawerContent>
      </TemporaryDrawer>
    )
  ).toMatchSnapshot();
});

it("mounts and unmounts", () => {
  class Component extends React.Component {
    render() {
      return (
        <TemporaryDrawer open={this.props.open}>
          <TemporaryDrawerHeader>
            <TemporaryDrawerHeaderContent>
              Header content
            </TemporaryDrawerHeaderContent>
          </TemporaryDrawerHeader>
          <TemporaryDrawerContent>
            <DrawerList>
              <DrawerListItem selected>Inbox</DrawerListItem>
              <DrawerListItem>Star</DrawerListItem>
              <DrawerListItem>Sent Mail</DrawerListItem>
              <DrawerListItem>All Mail</DrawerListItem>
              <DrawerListItem>Trash</DrawerListItem>
            </DrawerList>
          </TemporaryDrawerContent>
        </TemporaryDrawer>
      );
    }
  }

  const div = document.createElement("div");
  ReactDOM.render(<Component open={false} />, div);
  ReactDOM.render(<Component open />, div);
  ReactDOM.unmountComponentAtNode(div);
});
