import React from "react";
import {
  CDKGlobalHeader,
  GlobalHeaderIcons,
  GlobalHeaderIcon,
  GlobalHeaderAppSwitcher
} from ".";
import {
  AppSwitcherItem,
  AppSwitcherItemIcon,
  AppSwitcherItemText
} from "@cdk-uip/react-app-switcher";
import renderer from "react-test-renderer";

it("renders", () => {
  const onClickLogo = jest.fn();
  const onClickMenu = jest.fn();
  expect(
    renderer.create(
      <CDKGlobalHeader
        appName="App name"
        brand="CDK"
        onClickLogo={onClickLogo}
        menu
        onClickMenu={onClickMenu}
      >
        <GlobalHeaderIcons>
          <GlobalHeaderIcon>settings</GlobalHeaderIcon>
          <GlobalHeaderIcon>help</GlobalHeaderIcon>
          <GlobalHeaderIcon>person</GlobalHeaderIcon>
        </GlobalHeaderIcons>
      </CDKGlobalHeader>
    )
  ).toMatchSnapshot();
});

it("renders with an app grid", () => {
  expect(
    renderer.create(
      <CDKGlobalHeader appName="App name">
        <GlobalHeaderIcons>
          <GlobalHeaderAppSwitcher home="Back to Connect Portal">
            <AppSwitcherItem>
              <AppSwitcherItemIcon>perm_contact_calendar</AppSwitcherItemIcon>
              <AppSwitcherItemText>Admin</AppSwitcherItemText>
            </AppSwitcherItem>

            <AppSwitcherItem>
              <AppSwitcherItemIcon>directions_car</AppSwitcherItemIcon>
              <AppSwitcherItemText>Vehicle</AppSwitcherItemText>
            </AppSwitcherItem>

            <AppSwitcherItem>
              <AppSwitcherItemIcon>perm_phone_msg</AppSwitcherItemIcon>
              <AppSwitcherItemText>Prospect</AppSwitcherItemText>
            </AppSwitcherItem>
          </GlobalHeaderAppSwitcher>
        </GlobalHeaderIcons>
      </CDKGlobalHeader>
    )
  );
});
