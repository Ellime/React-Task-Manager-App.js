import React from "react";
import {
  GlobalHeader,
  GlobalHeaderSection,
  GlobalHeaderLogo,
  GlobalHeaderLogoImage,
  GlobalHeaderMenu,
  GlobalHeaderMenuIcon,
  GlobalHeaderLabel,
  GlobalHeaderLabelBrand,
  GlobalHeaderLabelAppName,
  GlobalHeaderIcons,
  GlobalHeaderIcon,
  CDKLogo,
  CDKGlobalHeader,
  GlobalHeaderAppSwitcher
} from ".";
import {
  AppSwitcherItem,
  AppSwitcherItemIcon,
  AppSwitcherItemText
} from "@cdk-uip/react-app-switcher";
import { storiesOf } from "@storybook/react";
import { withKnobs, boolean, text } from "@storybook/addon-knobs";
import { action } from "@storybook/addon-actions";

storiesOf("global-header", module)
  .addDecorator(withKnobs)
  .add("composition", () => {
    const showIcon = boolean("Show right icon", false);

    return (
      <div>
        <GlobalHeader fixed adjust>
          <GlobalHeaderSection align="start">
            <GlobalHeaderMenu>
              <GlobalHeaderMenuIcon element="span" />
            </GlobalHeaderMenu>

            <GlobalHeaderLogo
              {...(boolean("Clickable logo", false)
                ? {
                    element: "a",
                    href: "#",
                    onClick: e => {
                      e.preventDefault();
                      action("Logo clicked")(e);
                    }
                  }
                : {})}
            >
              <GlobalHeaderLogoImage>
                <CDKLogo />
              </GlobalHeaderLogoImage>
            </GlobalHeaderLogo>

            <GlobalHeaderLabel>
              <GlobalHeaderLabelBrand>CDK</GlobalHeaderLabelBrand>
              <GlobalHeaderLabelAppName>
                {text("App name", "App name")}
              </GlobalHeaderLabelAppName>
            </GlobalHeaderLabel>
          </GlobalHeaderSection>

          {showIcon && (
            <GlobalHeaderSection align="end" shrinkToFit>
              <GlobalHeaderIcon>person</GlobalHeaderIcon>
            </GlobalHeaderSection>
          )}
        </GlobalHeader>

        <main>Content</main>
      </div>
    );
  })
  .add("high-level component", () => {
    const icons = boolean("Show icons", false);
    const appSwitcher = boolean("Show app switcher", false);

    return (
      <div>
        <CDKGlobalHeader
          appName="App name"
          brand="CDK"
          onClickLogo={action("onClickLogo")}
          onClickMenu={action("onClickMenu")}
        >
          {icons && (
            <GlobalHeaderIcons>
              <GlobalHeaderIcon>settings</GlobalHeaderIcon>
              <GlobalHeaderIcon>help</GlobalHeaderIcon>
              <GlobalHeaderIcon>person</GlobalHeaderIcon>
            </GlobalHeaderIcons>
          )}

          {appSwitcher && (
            <GlobalHeaderIcons>
              <GlobalHeaderAppSwitcher
                home={
                  boolean("Show home link", true)
                    ? "Back to Connect Portal"
                    : ""
                }
              >
                <AppSwitcherItem>
                  <AppSwitcherItemIcon>contacts</AppSwitcherItemIcon>
                  <AppSwitcherItemText>Admin</AppSwitcherItemText>
                </AppSwitcherItem>

                <AppSwitcherItem>
                  <AppSwitcherItemIcon>directions_car</AppSwitcherItemIcon>
                  <AppSwitcherItemText>Vehicle</AppSwitcherItemText>
                </AppSwitcherItem>

                <AppSwitcherItem>
                  <AppSwitcherItemIcon>phone</AppSwitcherItemIcon>
                  <AppSwitcherItemText>Prospect</AppSwitcherItemText>
                </AppSwitcherItem>
              </GlobalHeaderAppSwitcher>
            </GlobalHeaderIcons>
          )}
        </CDKGlobalHeader>

        <main>Content</main>
      </div>
    );
  })
  .add("logo", () => (
    <div>
      <div style={{ backgroundColor: "#000", padding: 50 }}>
        <CDKLogo />
      </div>
      <div style={{ backgroundColor: "#fff", padding: 50 }}>
        <CDKLogo blackFont />
      </div>
      <div style={{ backgroundColor: "blue", padding: 50 }}>
        <CDKLogo blackFont />
      </div>
    </div>
  ));
