import React from "react";
import { bool } from "prop-types";
import classnames from "classnames";

/**
 * Used to adjust your main page content to take a fixed
 * global header into account.
 *
 * This component will inject the correct CSS class into
 * an existing element. To use it simple wrap your root
 * content element like this:
 *
 * ```js
 * <GlobalHeaderAdjust fixed>
 *   <main>
 *     ...your content here
 *   </main>
 * </GlobalHeaderAdjust>
 * ```
 */
class GlobalHeaderAdjust extends React.Component {
  render() {
    return React.Children.map(this.props.children, child =>
      React.cloneElement(child, {
        className: classnames(
          { "mdc-toolbar-fixed-adjust": this.props.fixed },
          child.props.className
        )
      })
    );
  }
}

GlobalHeaderAdjust.propTypes = {
  /** Set to `true` when using a fixed global header. */
  fixed: bool
};

GlobalHeaderAdjust.defaultProps = {
  fixed: true
};

export default GlobalHeaderAdjust;
