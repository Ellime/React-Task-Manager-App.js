import React from "react";
import {
  GridList,
  GridListTiles,
  GridTile,
  GridTilePrimary,
  GridTileSecondary,
  GridTilePrimaryContent,
  GridTileTitle,
  GridTileSupportText,
  GridTileIcon
} from ".";
import { storiesOf } from "@storybook/react";
import { withKnobs, select, boolean } from "@storybook/addon-knobs";
import image from "./16-9.jpg";

storiesOf("grid-list", module)
  .addDecorator(withKnobs)
  .add("props", () => {
    const aspectRatio = select(
      "Aspect ratio",
      ["1x1", "16x9", "2x3", "3x2", "4x3", "3x4"],
      "1x1"
    );
    const tileGutter1 = boolean("1px gutter", false);
    const headerCaption = boolean("Header caption", false);
    const twoLineCaption = boolean("2-line caption", false);
    const icons = select("Icons", ["None", "Start", "End"], "None");
    const customWidth = boolean("Custom tile width", false);
    const tileCaption = boolean("Tile caption", true);
    const div = boolean("<div> instead of <img>", false);

    const contentProps = {};
    if (div) {
      contentProps.element = "div";
      contentProps.style = { backgroundImage: `url(${image})` };
    } else {
      contentProps.src = image;
    }

    const props = {
      aspectRatio,
      tileGutter1,
      headerCaption,
      twoLineCaption
    };

    if (icons !== "None") {
      props.iconAlign = icons.toLowerCase();
    }

    return (
      <GridList {...props}>
        <GridListTiles>
          {[...Array(6).keys()].map(id => (
            <GridTile
              key={id}
              style={{ width: customWidth ? "300px" : undefined }}
            >
              <GridTilePrimary>
                <GridTilePrimaryContent {...contentProps} />
              </GridTilePrimary>
              {tileCaption && (
                <GridTileSecondary>
                  <GridTileTitle>Title</GridTileTitle>
                  {twoLineCaption && (
                    <GridTileSupportText>Support text</GridTileSupportText>
                  )}
                  {icons !== "" && <GridTileIcon>star_border</GridTileIcon>}
                </GridTileSecondary>
              )}
            </GridTile>
          ))}
        </GridListTiles>
      </GridList>
    );
  });
