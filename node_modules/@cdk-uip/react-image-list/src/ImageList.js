import React, { Children, cloneElement } from "react";
import classnames from "classnames";
import PropTypes from "prop-types";

/**
 * An Image List consists of several items, each containing an image and optionally
 * supporting content (i.e. a text label).
 */
const ImageList = ({
  className,
  columns,
  gutter,
  textProtection,
  children,
  ...other
}) => (
  <ul
    className={classnames(
      "mdc-image-list",
      { "mdc-image-list--with-text-protection": textProtection },
      className
    )}
    {...other}
  >
    {Children.map(children, child => cloneElement(child, { columns, gutter }))}
  </ul>
);

ImageList.propTypes = {
  /** The number of columns */
  columns: PropTypes.number,
  /** The gutter size */
  gutter: PropTypes.number,
  /**
   * Indicates that supporting content should be positioned in a scrim overlaying
   * each image (instead of positioned separately under each image)
   */
  textProtection: PropTypes.bool
};

ImageList.defaultProps = {
  columns: 5,
  gutter: 4
};

export default ImageList;
