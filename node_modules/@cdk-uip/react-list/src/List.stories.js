import React from "react";
import {
  List,
  ListGroup,
  ListItem,
  ListItemText,
  ListSubheader,
  ListItemTextSecondary,
  ListDivider,
  ListItemGraphic,
  ListItemMeta,
  NavList
} from ".";
import { Divider } from "@cdk-uip/react-divider";
import { Avatar } from "@cdk-uip/react-avatar";
import { Checkbox } from "@cdk-uip/react-checkbox";
import { Icon } from "@cdk-uip/react-icon";
import { storiesOf } from "@storybook/react";
import { withKnobs, boolean, select } from "@storybook/addon-knobs";

const StoryList = ({ nav, ...other }) =>
  React.createElement(nav ? NavList : List, { ...other });

const SampleList = ({
  nav,
  dense,
  multiLine,
  dividers,
  inset,
  graphic,
  meta,
  nonInteractive,
  selectedItems,
  activated
}) => (
  <StoryList
    nav={nav === "Nav"}
    dense={dense}
    multiLine={multiLine}
    avatar={graphic === "Avatar"}
    nonInteractive={nonInteractive}
  >
    <ListItem
      button={nav === "Nav"}
      activated={activated}
      selected={selectedItems && !activated}
    >
      {graphic === "Avatar" && (
        <ListItemGraphic>
          <Avatar style={{ backgroundColor: "#bdbdbd" }}>A</Avatar>
        </ListItemGraphic>
      )}
      {graphic === "Icon" && (
        <ListItemGraphic>
          <Icon>email</Icon>
        </ListItemGraphic>
      )}
      {graphic === "Checkbox" && (
        <ListItemGraphic>
          <span>
            <Checkbox />
          </span>
        </ListItemGraphic>
      )}
      <ListItemText>
        Hungerford
        {multiLine && (
          <ListItemTextSecondary>United Kingdon</ListItemTextSecondary>
        )}
      </ListItemText>
      {meta === "Icon" && (
        <ListItemMeta>
          <Icon>star</Icon>
        </ListItemMeta>
      )}
      {meta === "Text" && (
        <ListItemMeta>
          <span>123</span>
        </ListItemMeta>
      )}
    </ListItem>
    {dividers &&
      (nav === "Nav" ? (
        <Divider inset={inset} />
      ) : (
        <ListDivider inset={inset} />
      ))}
    <ListItem button={nav === "Nav"} selected={selectedItems}>
      {graphic === "Avatar" && (
        <ListItemGraphic>
          <Avatar style={{ backgroundColor: "#bdbdbd" }}>A</Avatar>
        </ListItemGraphic>
      )}
      {graphic === "Icon" && (
        <ListItemGraphic>
          <Icon>chat</Icon>
        </ListItemGraphic>
      )}
      {graphic === "Checkbox" && (
        <ListItemGraphic>
          <span>
            <Checkbox />
          </span>
        </ListItemGraphic>
      )}
      <ListItemText>
        Portland
        {multiLine && (
          <ListItemTextSecondary>United States</ListItemTextSecondary>
        )}
      </ListItemText>
      {meta === "Icon" && (
        <ListItemMeta>
          <Icon>favorite</Icon>
        </ListItemMeta>
      )}
      {meta === "Text" && (
        <ListItemMeta>
          <span>456</span>
        </ListItemMeta>
      )}
    </ListItem>
    {dividers &&
      (nav === "Nav" ? (
        <Divider inset={inset} />
      ) : (
        <ListDivider inset={inset} />
      ))}
    <ListItem button={nav === "Nav"} selected={selectedItems}>
      {graphic === "Avatar" && (
        <ListItemGraphic>
          <Avatar style={{ backgroundColor: "#bdbdbd" }}>A</Avatar>
        </ListItemGraphic>
      )}
      {graphic === "Icon" && (
        <ListItemGraphic>
          <Icon>call</Icon>
        </ListItemGraphic>
      )}
      {graphic === "Checkbox" && (
        <ListItemGraphic>
          <span>
            <Checkbox />
          </span>
        </ListItemGraphic>
      )}
      <ListItemText>
        Hyderabad
        {multiLine && <ListItemTextSecondary>India</ListItemTextSecondary>}
      </ListItemText>
      {meta === "Icon" && (
        <ListItemMeta>
          <Icon>delete</Icon>
        </ListItemMeta>
      )}
      {meta === "Text" && (
        <ListItemMeta>
          <span>789</span>
        </ListItemMeta>
      )}
    </ListItem>
  </StoryList>
);

storiesOf("list", module)
  .addDecorator(withKnobs)
  .add("props", () => {
    const nav = select("Type", ["List", "Nav"], "List");
    const nonInteractive = boolean("Non-interactive", false);
    const dense = boolean("Dense", false);
    const inset = boolean("Inset dividers", false);
    const multiLine = boolean("Multi-line", false);
    const dividers = boolean("Dividers", false);
    const graphic = select(
      "Graphic",
      ["None", "Avatar", "Icon", "Checkbox"],
      "None"
    );
    const meta = select("Metadata", ["None", "Icon", "Text"], "None");
    const groups = boolean("Groups", false);
    const selectedItems = boolean("Selected items", false);
    const activated = boolean("Activate first item", false);

    if (groups) {
      return (
        <ListGroup>
          <ListSubheader>Subheader</ListSubheader>
          <SampleList
            nav={nav}
            dense={dense}
            multiLine={multiLine}
            dividers={dividers}
            inset={inset}
            graphic={graphic}
            meta={meta}
            nonInteractive={nonInteractive}
            selectedItems={selectedItems}
            activated={activated}
          />
          <Divider />
          <ListSubheader>Subheader</ListSubheader>
          <SampleList
            nav={nav}
            dense={dense}
            multiLine={multiLine}
            dividers={dividers}
            inset={inset}
            graphic={graphic}
            meta={meta}
            nonInteractive={nonInteractive}
            selectedItems={selectedItems}
            activated={activated}
          />
        </ListGroup>
      );
    }

    return (
      <SampleList
        nav={nav}
        dense={dense}
        multiLine={multiLine}
        dividers={dividers}
        inset={inset}
        graphic={graphic}
        meta={meta}
        nonInteractive={nonInteractive}
        selectedItems={selectedItems}
        activated={activated}
      />
    );
  });
