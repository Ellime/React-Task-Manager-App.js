import React from "react";
import ReactDOM from "react-dom";
import { Menu, MenuAnchor, MenuItem, MenuDivider } from ".";
import { Button } from "@cdk-uip/react-button";
import { Icon } from "@cdk-uip/react-icon";
import renderer from "react-test-renderer";

it("renders", () => {
  expect(
    renderer.create(
      <MenuAnchor>
        <Button>Anchor</Button>
        <Menu open>
          <MenuItem>Item 1</MenuItem>
          <MenuDivider />
          <MenuItem disabled>Disabled</MenuItem>
        </Menu>
      </MenuAnchor>
    )
  ).toMatchSnapshot();
});

it("mounts and unmounts", () => {
  const div = document.createElement("div");
  ReactDOM.render(
    <Menu open>
      <MenuItem>Item 1</MenuItem>
    </Menu>,
    div
  );
  ReactDOM.render(
    <Menu open={false}>
      <MenuItem>Item 1</MenuItem>
    </Menu>,
    div
  );
  ReactDOM.unmountComponentAtNode(div);
});

it("sets the anchor corner", () => {
  const div = document.createElement("div");
  const values = ["top-start", "top-end", "bottom-start", "bottom-end"];
  values.forEach(corner => {
    ReactDOM.render(
      <Menu open anchorCorner={corner}>
        <MenuItem>Item 1</MenuItem>
      </Menu>,
      div
    );
  });
  ReactDOM.unmountComponentAtNode(div);
});

it("renders with icons", () => {
  expect(
    renderer.create(
      <MenuAnchor>
        <Button>Anchor</Button>
        <Menu open icons>
          <MenuItem icon={<Icon>done</Icon>}>Item 1</MenuItem>
          <MenuItem>Item 2</MenuItem>
        </Menu>
      </MenuAnchor>
    )
  ).toMatchSnapshot();
});
