import React from "react";
import PropTypes from "prop-types";
import { Select } from "@cdk-uip/react-select";

/**
 * Used in the MonthPicker for selecting months and years.
 */
const MonthPickerSelect = ({ className, label, value, onChange, options }) => (
  <div className={className}>
    <Select
      label={label}
      fullWidth
      value={typeof value === "undefined" ? "" : String(value)}
      onChange={onChange}
    >
      {options.map(({ label, value }) => (
        <option key={value} value={value}>
          {label}
        </option>
      ))}
    </Select>
  </div>
);

MonthPickerSelect.propTypes = {
  /** Custom CSS class */
  className: PropTypes.string,
  /** The label */
  label: PropTypes.node,
  /** The current value */
  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),
  /** Called when the value changes */
  onChange: PropTypes.func,
  /** The options to display */
  options: PropTypes.arrayOf(
    PropTypes.shape({
      label: PropTypes.oneOfType([PropTypes.string, PropTypes.number])
        .isRequired,
      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number])
        .isRequired
    })
  )
};

export default MonthPickerSelect;
