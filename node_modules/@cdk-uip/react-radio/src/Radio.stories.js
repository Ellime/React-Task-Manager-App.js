import React from "react";
import { Radio, RadioGroup } from ".";
import { FormField } from "@cdk-uip/react-form-field";
import { storiesOf } from "@storybook/react";
import { withKnobs, boolean } from "@storybook/addon-knobs";

const data = [
  {
    label: "Hungerford",
    value: "HU"
  },
  {
    label: "Portland",
    value: "PO"
  },
  {
    label: "Hyderabad",
    value: "HY"
  }
];

storiesOf("radio", module)
  .addDecorator(withKnobs)
  .add("props", () => {
    const labels = boolean("Labels", true);
    const alignEnd = boolean("Align end", false);

    return (
      <div>
        {data.map(({ label, value }) => {
          if (labels) {
            return (
              <FormField key={value} id={value} alignEnd={alignEnd}>
                <Radio name="group" value={value} />
                <label htmlFor={value}>{label}</label>
              </FormField>
            );
          }
          return <Radio key={value} name="group" value={value} />;
        })}
      </div>
    );
  })
  .add("controlled group", () => {
    class Wrapper extends React.Component {
      state = { value: "HU" };

      render() {
        return (
          <div>
            <RadioGroup
              name="offices"
              value={this.state.value}
              onChange={e => this.setState({ value: e.target.value })}
              fullWidth={boolean("Full width", true)}
              disabled={boolean("Disable", false)}
            >
              {data.map(({ value, label }) => (
                <Radio key={value} value={value}>
                  {label}
                </Radio>
              ))}
            </RadioGroup>
            <p>Selected: {this.state.value}</p>
          </div>
        );
      }
    }
    return <Wrapper />;
  });
