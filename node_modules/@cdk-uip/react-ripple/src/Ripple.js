import React from "react";
import { MDCRipple } from "@material/ripple/dist/mdc.ripple";
import classnames from "classnames";
import { bool } from "prop-types";

class Ripple extends React.Component {
  static propTypes = {
    /** Use theme primary color */
    primary: bool,
    /** Use theme accent color */
    accent: bool
  };

  componentDidMount() {
    if (this.control) {
      MDCRipple.attachTo(this.control);
    }
  }

  render() {
    const { primary, accent, className, children, ...other } = this.props;
    return (
      <div
        ref={div => {
          this.control = div;
        }}
        className={classnames(
          "mdc-ripple-surface",
          {
            "mdc-ripple-surface--primary": primary,
            "mdc-ripple-surface--accent": accent
          },
          className
        )}
        {...other}
      >
        {children}
      </div>
    );
  }
}

export default Ripple;
