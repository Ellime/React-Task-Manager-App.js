import React from "react";
import { Switch } from ".";
import { FormField } from "@cdk-uip/react-form-field";
import { storiesOf } from "@storybook/react";
import { withKnobs, boolean, text } from "@storybook/addon-knobs";

storiesOf("switch", module)
  .addDecorator(withKnobs)
  .add("props", () => {
    class Wrapper extends React.Component {
      state = { checked: false };

      render() {
        const label = text("Label", "Label");
        const sw = (
          <Switch
            checked={this.state.checked}
            onChange={e => this.setState({ checked: e.target.checked })}
            disabled={boolean("Disabled", false)}
          />
        );

        const child = label ? (
          <FormField id="switch" alignEnd={boolean("Align end", false)}>
            {sw}
            <label>{label}</label>
          </FormField>
        ) : (
          sw
        );

        return (
          <div>
            {child}
            <p>Checked: {this.state.checked ? "true" : "false"}</p>
          </div>
        );
      }
    }
    return <Wrapper />;
  });
