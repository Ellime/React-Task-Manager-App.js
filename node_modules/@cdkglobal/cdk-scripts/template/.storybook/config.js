import { configure, addDecorator } from "@storybook/react";
import React from "react";
import { IntlProvider } from "react-intl";

import "../src/less/main.less";

const req = require.context("../src", true, /\.stories\.js$/);

const loadStories = () => {
  req.keys().forEach(filename => req(filename));
};

// Decorate each story so the expected things are available in the context
addDecorator(story => (
  <IntlProvider locale="en">
    {story()}
  </IntlProvider>
));

configure(loadStories, module);